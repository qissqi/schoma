"use strict";(self["webpackChunkicebee_web"]=self["webpackChunkicebee_web"]||[]).push([[730],{5349:function(e,r,t){var s=t(6513);r.Z={register_student(e){return(0,s.Z)({url:"/admin/register_student",method:"post",data:e})},get_department_and_major(){return(0,s.Z)({url:"/info/department_and_major",method:"get"})},register_teacher(e){return(0,s.Z)({url:"/admin/register_teacher",method:"post",data:e})},register_admin(e){return(0,s.Z)({url:"/admin/register_admin",method:"post",data:e})},get_courses_pending_approval_list(){return(0,s.Z)({url:"/admin/course/pending_list",method:"get"})},approve_course_application(e){return(0,s.Z)({url:"/admin/course/approve_application",method:"post",data:e})},get_courses_not_pending_approval_list(){return(0,s.Z)({url:"/admin/course/not_pending_list",method:"get"})},get_course_info_by_id(e){return(0,s.Z)({url:"/admin/course/info",method:"get",params:e})}}},730:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var s=t(3396);const a=(0,s._)("h1",{style:{"font-size":"25px"}},"创建管理员账号",-1);function i(e,r,t,i,d,o){const l=(0,s.up)("a-form-item"),n=(0,s.up)("a-input"),u=(0,s.up)("a-option"),m=(0,s.up)("a-select"),_=(0,s.up)("a-divider"),f=(0,s.up)("a-button"),g=(0,s.up)("a-space"),p=(0,s.up)("a-form");return(0,s.wg)(),(0,s.j4)(p,{model:d.form,onSubmit:o.submit_register_form,style:{width:"60%","margin-top":"5%","margin-left":"10%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[a])),_:1}),(0,s.Wm)(l,{field:"user_id",label:"管理员职工号",rules:[{required:!0,message:"请输入管理员职工号"}],"validate-trigger":["change","input"]},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:d.form.user_id,"onUpdate:modelValue":r[0]||(r[0]=e=>d.form.user_id=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(l,{field:"passwd",label:"密码",rules:[{required:!0,message:"请设置账号密码"}]},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:d.form.passwd,"onUpdate:modelValue":r[1]||(r[1]=e=>d.form.passwd=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(l,{field:"name",label:"姓名",rules:[{required:!0,message:"请输入姓名"}]},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:d.form.name,"onUpdate:modelValue":r[2]||(r[2]=e=>d.form.name=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(l,{field:"gender",label:"性别",rules:[{required:!0,message:"请选择性别"}]},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{modelValue:d.form.gender,"onUpdate:modelValue":r[3]||(r[3]=e=>d.form.gender=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{value:"男"},{default:(0,s.w5)((()=>[(0,s.Uk)("男")])),_:1}),(0,s.Wm)(u,{value:"女"},{default:(0,s.w5)((()=>[(0,s.Uk)("女")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{split:(0,s.w5)((()=>[(0,s.Wm)(_,{direction:"vertical"})])),default:(0,s.w5)((()=>[(0,s.Wm)(f,{type:"primary","html-type":"submit",loading:d.register_loading},{default:(0,s.w5)((()=>[(0,s.Uk)(" 创建管理员账号 ")])),_:1},8,["loading"]),(0,s.Wm)(f,{onClick:o.clear_form},{default:(0,s.w5)((()=>[(0,s.Uk)(" 清空输入 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["model","onSubmit"])}var d=t(5349),o={data(){return{user_id:"",form:{user_id:"",passwd:"",name:"",gender:""},register_loading:!1}},mounted(){this.user_id=this.$route.query.user_id},methods:{clear_form(){this.form.user_id="",this.form.passwd="",this.form.name="",this.form.gender=""},is_form_all_required_not_null(){return""!=this.form.user_id&&""!=this.form.passwd&&""!=this.form.name&&""!=this.form.gender},set_is_register_btn_loading(e){this.register_loading=e},submit_register_form({values:e,errors:r}){this.is_form_all_required_not_null()&&(this.set_is_register_btn_loading(!0),d.Z.register_admin({user_id:this.form.user_id,passwd:this.form.passwd,name:this.form.name,gender:this.form.gender,created_by:this.user_id}).then((e=>{this.set_is_register_btn_loading(!1),201!=e.status_code?(console.info(e),this.$message.error("创建失败，"+e.status_text)):(this.clear_form(),this.$message.info("创建成功"))})).catch((e=>{this.set_is_register_btn_loading(!1),console.error(e),this.$message.error("创建失败，出现异常")})))}}},l=t(89);const n=(0,l.Z)(o,[["render",i]]);var u=n}}]);
//# sourceMappingURL=730.579d5c49.js.map