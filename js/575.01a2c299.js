"use strict";(self["webpackChunkicebee_web"]=self["webpackChunkicebee_web"]||[]).push([[575],{1108:function(e,t){t.Z={setcookie(e,t,r,o,a,l){let i=e+"="+encodeURIComponent(t);if(r){let e=new Date;e.setTime(e.getTime()+24*r*60*60*1e3),i+="; expires="+e.toUTCString()}o&&(i+="; path="+o),a&&(i+="; domain="+a),l&&(i+="; secure"),document.cookie=i},getcookie(e){let t=e+"=",r=document.cookie.split(";");for(let o=0;o<r.length;o++){let e=r[o].trim();if(0===e.indexOf(t))return decodeURIComponent(e.substring(t.length))}return null},deleteCookie(e,t,r){getCookie(e)&&(document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"),t&&(document.cookie=e+"=; path="+t),r&&(document.cookie=e+"=; domain="+r)}}},5705:function(e,t,r){var o=r(6513);t.Z={get_courses(e){return console.log(e),(0,o.Z)({url:"/teacher/teacherCourse",method:"get",params:e})},get_courses_detail(e){return console.log(e),(0,o.Z)({url:"/teacher/courseDetail",method:"get",params:e.course_id})},get_applications(e){return(0,o.Z)({url:"/teacher/teacherApplication",method:"get",params:e})},get_application_detail(e){return(0,o.Z)({url:"/teacher/applicationDetail",method:"get",params:e.application_id})},apply_for_course(e){return(0,o.Z)({url:"/teacher/applyCourse",method:"post",data:e})},giveScoreForm(e){return(0,o.Z)({url:"/teacher/giveScoreForm",method:"get",params:e})},getStudentScore(e){return(0,o.Z)({url:"/teacher/giveScoreForm",method:"get",params:e})},giveScore(e){return(0,o.Z)({url:"/teacher/giveScore",method:"post",data:e})},scoreAnalyse(e){return(0,o.Z)({url:"/teacher/scoreAnalyse",method:"get",params:e})},getCourseName(e){return(0,o.Z)({url:"/teacher/getCourseName",method:"get",params:e})},ice_bee(){return(0,o.Z)({url:"/icebee",method:"get"})}}},2575:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var o=r(3396),a=r(7139);const l=(0,o._)("h1",{style:{"font-size":"25px"}},"课程列表",-1);function i(e,t,r,i,n,u){const s=(0,o.up)("a-divider"),c=(0,o.up)("a-button"),d=(0,o.up)("a-space"),_=(0,o.up)("a-layout-header"),g=(0,o.up)("a-table"),m=(0,o.up)("a-layout-content"),h=(0,o.up)("a-layout");return(0,o.wg)(),(0,o.j4)(h,{style:{height:"100vh"}},{default:(0,o.w5)((()=>[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{style:{"margin-left":"5%"}},{split:(0,o.w5)((()=>[(0,o.Wm)(s,{direction:"vertical"})])),default:(0,o.w5)((()=>[l,(0,o.Wm)(c,{type:"primary",loading:n.get_all_loading,onClick:u.reload,style:{float:"right"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(n.get_all_loading?"加载中":"重新加载"),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{columns:n.columns,data:n.course,scroll:{x:600,y:1200},bordered:{cell:!0},style:{width:"70%","margin-left":"5%"}},{optional:(0,o.w5)((({record:e})=>[(0,o.Wm)(c,{type:"outline",onClick:t=>u.detailPage(e.course_id)},{default:(0,o.w5)((()=>[(0,o.Uk)("详情")])),_:2},1032,["onClick"])])),_:1},8,["columns","data"])])),_:1})])),_:1})}r(560);var n=r(5705),u=r(1108),s=r(4870),c={data(){return{columns:(0,s.qj)([{title:"课程号",dataIndex:"course_id",width:150},{title:"课程名",dataIndex:"course_name"},{title:"最大可选人数",dataIndex:"max_student_number",width:150},{title:"学分",dataIndex:"credit",width:100},{title:"操作",slotName:"optional",width:150,fixed:"right"}]),course:[],get_all_loading:!1}},mounted(){this.get_courses()},methods:{detailPage(e){this.$router.push({path:"/teacher/course_detail",query:{course_id:e}})},reload(){this.get_courses()},set_get_all_btn_loading(e){this.get_all_loading=e},get_courses(){this.set_get_all_btn_loading(!0);var e=u.Z.getcookie("user_id");n.Z.get_courses({teacher_id:e}).then((e=>{if(this.set_get_all_btn_loading(!1),200==e.status_code){var t=[],r=[];t=e.data;for(let e=0;e<t.length;e++)r.push({index:e+1,course_id:t[e].course_id,course_name:t[e].course_name,credit:t[e].credit,max_student_number:t[e].max_student_number});this.course=r}else this.$message.error(e.status_text)})).catch((e=>{this.set_get_all_btn_loading(!1),this.$message.error("加载失败"),console.error(e)}))}}},d=r(89);const _=(0,d.Z)(c,[["render",i]]);var g=_}}]);
//# sourceMappingURL=575.01a2c299.js.map