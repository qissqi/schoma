"use strict";(self["webpackChunkicebee_web"]=self["webpackChunkicebee_web"]||[]).push([[326],{5349:function(e,t,a){var r=a(6513);t.Z={register_student(e){return(0,r.Z)({url:"/admin/register_student",method:"post",data:e})},get_department_and_major(){return(0,r.Z)({url:"/info/department_and_major",method:"get"})},register_teacher(e){return(0,r.Z)({url:"/admin/register_teacher",method:"post",data:e})},register_admin(e){return(0,r.Z)({url:"/admin/register_admin",method:"post",data:e})},get_courses_pending_approval_list(){return(0,r.Z)({url:"/admin/course/pending_list",method:"get"})},approve_course_application(e){return(0,r.Z)({url:"/admin/course/approve_application",method:"post",data:e})},get_courses_not_pending_approval_list(){return(0,r.Z)({url:"/admin/course/not_pending_list",method:"get"})},get_course_info_by_id(e){return(0,r.Z)({url:"/admin/course/info",method:"get",params:e})}}},1326:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=a(3396),o=a(7139),i=a(9242);const n=(0,r._)("h1",{style:{"font-size":"23px"}},"已审批的课程",-1);function l(e,t,a,l,s,d){const _=(0,r.up)("a-divider"),u=(0,r.up)("a-button"),c=(0,r.up)("a-space"),p=(0,r.up)("a-layout-header"),g=(0,r.up)("a-tag"),m=(0,r.up)("a-table"),h=(0,r.up)("a-layout-content"),f=(0,r.up)("a-layout");return(0,r.wg)(),(0,r.j4)(f,{style:{height:"100vh",width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{style:{"margin-left":"2%"}},{split:(0,r.w5)((()=>[(0,r.Wm)(_,{direction:"vertical"})])),default:(0,r.w5)((()=>[n,(0,r.Wm)(u,{type:"primary",loading:s.get_all_loading,onClick:d.get_courses},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(s.get_all_loading?"加载中":"重新加载"),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1}),(0,r.Wm)(h,{style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{columns:s.columns,data:s.course_list,style:{width:"100%"},scroll:{x:"100%",y:"100%"},expandable:e.expandable},{optional:(0,r.w5)((({record:e})=>[(0,r.wy)((0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(g,{color:"green",bordered:""},{default:(0,r.w5)((()=>[(0,r.Uk)(" 已通过 ")])),_:1}),(0,r.Wm)(u,{type:"outline",size:"mini",onClick:t=>d.goto_course_info_page(e.application_id)},{default:(0,r.w5)((()=>[(0,r.Uk)(" 详情 ")])),_:2},1032,["onClick"])])),_:2},1536),[[i.F8,"approved"==e.status]]),(0,r.wy)((0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(g,{color:"orangered",bordered:""},{default:(0,r.w5)((()=>[(0,r.Uk)(" 已否决 ")])),_:1})])),_:2},1536),[[i.F8,"rejected"==e.status]])])),_:1},8,["columns","data","expandable"])])),_:1})])),_:1})}a(560);var s=a(5349),d={data(){return{user_id:"",columns:[{title:"操作",slotName:"optional",width:250,fixed:"left"},{title:"申请序号",dataIndex:"application_id",width:100,fixed:"left"},{title:"课程名",dataIndex:"course_name"},{title:"授课教师",dataIndex:"teacher_info.user_name"},{title:"学分",dataIndex:"credit"},{title:"最大可选人数",dataIndex:"max_student_number"}],course_list:[],get_all_loading:!1}},mounted(){this.user_id=this.$route.query.user_id,this.get_courses()},methods:{set_get_all_btn_loading(e){this.get_all_loading=e},get_courses(){this.set_get_all_btn_loading(!0),s.Z.get_courses_not_pending_approval_list().then((e=>{this.set_get_all_btn_loading(!1),200==e.status_code?(this.course_list=e.data,console.log(e.data)):this.$message.error("加载失败，"+e.status_text)})).catch((e=>{this.set_get_all_btn_loading(!1),this.$message.error("加载失败，出现异常"),console.error(e)}))},goto_course_info_page(e){let t={user_id:this.user_id,course_id:e};this.$router.push({path:"/admin/course/info",query:t})}}},_=a(89);const u=(0,_.Z)(d,[["render",l]]);var c=u}}]);
//# sourceMappingURL=326.36d4374a.js.map